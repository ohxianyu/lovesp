(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-login-reg"],{"2e38":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"content"},[i("v-uni-view",{staticClass:"header"},[i("v-uni-image",{attrs:{src:n("4531")}})],1),i("v-uni-view",{staticClass:"list"},[i("v-uni-view",{staticClass:"list-call"},[i("v-uni-image",{staticClass:"img",attrs:{src:"/static/shilu-login/1.png"}}),i("v-uni-input",{staticClass:"sl-input",attrs:{type:"number",maxlength:"11",placeholder:"手机号"},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1),i("v-uni-view",{staticClass:"list-call"},[i("v-uni-image",{staticClass:"img",attrs:{src:"/static/shilu-login/2.png"}}),i("v-uni-input",{staticClass:"sl-input",attrs:{type:"text",maxlength:"32",placeholder:"登录密码",password:!t.showPassword},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),i("v-uni-image",{staticClass:"img",attrs:{src:t.showPassword?"/static/shilu-login/op.png":"/static/shilu-login/cl.png"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.display.apply(void 0,arguments)}}})],1)],1),i("v-uni-view",{staticClass:"button-login",attrs:{"hover-class":"button-hover"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.bindLogin.apply(void 0,arguments)}}},[i("v-uni-text",{staticStyle:{"font-size":"40upx"}},[t._v("注册")])],1),i("v-uni-view",{staticClass:"agreement"},[i("v-uni-image",{attrs:{src:1==t.agreement?"/static/shilu-login/ty1.png":"/static/shilu-login/ty0.png"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.agreementSuccess.apply(void 0,arguments)}}}),i("v-uni-text",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.agreementSuccess.apply(void 0,arguments)}}},[t._v("同意")]),i("v-uni-navigator",{attrs:{"open-type":"navigate"}},[t._v("《软件用户协议》")])],1)],1)},a=[]},"40d7":function(t,e,n){"use strict";var i=n("e225"),a=n.n(i);a.a},4531:function(t,e,n){t.exports=n.p+"static/img/logo.256d7ad8.png"},"4eb4":function(t,e,n){"use strict";n("7a82");var i=n("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a,o,s=i(n("ade3")),r=i(n("c7eb")),c=i(n("3835")),l=i(n("1da1")),d=(a={onLoad:function(t){t.uid&&(this.invitation=t.uid),this.getList()},onUnload:function(){clearInterval(o),this.second=0},data:function(){return{phone:"13679097902",password:"123456",code:"",invitation:"",agreement:!0,showPassword:!1,second:0,iskq:0}},computed:{yanzhengma:function(){return 0==this.second?"获取验证码":this.second<10?"重新获取0"+this.second:"重新获取"+this.second}}},(0,s.default)(a,"onUnload",(function(){this.clear()})),(0,s.default)(a,"methods",{clear:function(){clearInterval(o),o=null,this.second=0},display:function(){this.showPassword=!this.showPassword},agreementSuccess:function(){this.agreement=!this.agreement},getcode:function(){var t=this;return(0,l.default)((0,r.default)().mark((function e(){var n,i,a,s,l;return(0,r.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(11==t.phone.length){e.next=3;break}return uni.showToast({icon:"none",title:"手机号不正确"}),e.abrupt("return");case 3:if(!(t.second>0)){e.next=5;break}return e.abrupt("return");case 5:return t.second=60,o=setInterval((function(){(void 0).second--,0==(void 0).second&&(void 0).clear()}),1e3),n={phone:t.phone},e.next=10,t.$httpas.post("/api/ems/index",n);case 10:if(i=e.sent,a=(0,c.default)(i,2),s=a[0],l=a[1],t.$httpas.errorCheck(s,l)){e.next=16;break}return e.abrupt("return");case 16:console.log(l.data.ok),console.log(l.data.data),1==l.data.ok?(uni.setStorage({key:"yzmss",data:l.data.data}),uni.showToast({title:l.data.msg,icon:"none"})):uni.showToast({title:l.data.msg,icon:"none"});case 19:case"end":return e.stop()}}),e)})))()},bindLogin:function(){if(0!=this.agreement)if(11==this.phone.length)if(this.password.length<6)uni.showToast({icon:"none",title:"密码不正确"});else{var t=uni.getStorageSync("yzmss");if(1*this.code!=1*t)return uni.showToast({title:"短信验证码错误",icon:"none"}),!1;this.zc()}else uni.showToast({icon:"none",title:"手机号不正确"});else uni.showToast({icon:"none",title:"请先阅读《软件用户协议》"})},zc:function(){var t=this;return(0,l.default)((0,r.default)().mark((function e(){var n,i,a,o,s;return(0,r.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t,n={mobile:t.phone,phoneData:t.phone,passData:t.password,pid:t.invitation},t.openid&&(n.openid=t.openid,n.nickName=t.nickName,n.avatarUrl=t.avatarUrl),e.next=5,t.$httpas.get("/http/register",n);case 5:if(i=e.sent,a=(0,c.default)(i,2),o=a[0],s=a[1],t.$httpas.errorCheck(o,s)){e.next=11;break}return e.abrupt("return");case 11:200===s.data.code?uni.showModal({title:"",content:s.data.msg,showCancel:!1,confirmText:"确定",success:function(t){console.log(t),t.confirm?uni.navigateBack():t.cancel}}):uni.showToast({title:s.data.msg,icon:"none"});case 12:case"end":return e.stop()}}),e)})))()},getList:function(){var t=this,e={};e.limit=15,e.ishot=2,uni.request({url:this.configs.webUrl+"/api/video/lists",data:e,success:function(e){uni.setStorage({key:"config",data:e.data.config}),uni.getStorageSync("config").iskq&&(t.iskq=uni.getStorageSync("config").iskq)},fail:function(t,e){}})}}),a);e.default=d},5184:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,".content[data-v-0100b860]{display:flex;flex-direction:column;justify-content:center}.header[data-v-0100b860]{width:%?161?%;height:%?161?%;background:#3fcdeb;box-shadow:%?0?% %?12?% %?13?% %?0?% rgba(63,205,235,.47);border-radius:50%;margin-top:%?30?%;margin-left:auto;margin-right:auto}.header uni-image[data-v-0100b860]{width:%?161?%;height:%?161?%;border-radius:50%}.list[data-v-0100b860]{display:flex;flex-direction:column;padding-top:%?50?%;padding-left:%?70?%;padding-right:%?70?%}.list-call[data-v-0100b860]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;height:%?100?%;color:#333;border-bottom:.5px solid #e2e2e2}.list-call .img[data-v-0100b860]{width:%?40?%;height:%?40?%}.list-call .sl-input[data-v-0100b860]{flex:1;text-align:left;font-size:%?32?%;margin-left:%?16?%}.yzm[data-v-0100b860]{color:#ff7d13;font-size:%?24?%;line-height:%?64?%;padding-left:%?10?%;padding-right:%?10?%;width:auto;height:%?64?%;border:%?1?% solid #ffa800;border-radius:%?50?%}.yzms[data-v-0100b860]{color:#999!important;border:%?1?% solid #999}.button-login[data-v-0100b860]{color:#fff;font-size:%?34?%;width:%?470?%;height:%?100?%;line-height:%?100?%;background:linear-gradient(-90deg,#4bc45d,#bce29e);box-shadow:%?0?% %?0?% %?13?% %?0?% rgba(164,217,228,.2);border-radius:%?50?%;text-align:center;margin-left:auto;margin-right:auto;margin-top:%?100?%}.button-hover[data-v-0100b860]{background:linear-gradient(-90deg,rgba(63,205,235,.8),rgba(188,226,158,.8))}.agreement[data-v-0100b860]{display:flex;flex-direction:row;justify-content:center;align-items:center;font-size:%?30?%;margin-top:%?80?%;color:#ffa800;text-align:center;height:%?40?%;line-height:%?40?%}.agreement uni-image[data-v-0100b860]{width:%?40?%;height:%?40?%}",""]),t.exports=e},"5cd5":function(t,e,n){"use strict";n.r(e);var i=n("4eb4"),a=n.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},6073:function(t,e,n){"use strict";n.r(e);var i=n("2e38"),a=n("5cd5");for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("40d7");var s=n("f0c5"),r=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"0100b860",null,!1,i["a"],void 0);e["default"]=r.exports},e225:function(t,e,n){var i=n("5184");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("abe2dbee",i,!0,{sourceMap:!1,shadowMode:!1})}}]);