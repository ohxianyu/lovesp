(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-client-tuan-video"],{"17ad":function(t,i,o){var e=o("7487");e.__esModule&&(e=e.default),"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var n=o("4f06").default;n("0d5b28e9",e,!0,{sourceMap:!1,shadowMode:!1})},"181c":function(t,i,o){"use strict";o.r(i);var e=o("f8f1"),n=o.n(e);for(var a in e)["default"].indexOf(a)<0&&function(t){o.d(i,t,(function(){return e[t]}))}(a);i["default"]=n.a},"4b56":function(t,i,o){"use strict";var e=o("17ad"),n=o.n(e);n.a},"567a":function(t,i,o){"use strict";o.r(i);var e=o("f614"),n=o("181c");for(var a in n)["default"].indexOf(a)<0&&function(t){o.d(i,t,(function(){return n[t]}))}(a);o("4b56");var s=o("f0c5"),r=Object(s["a"])(n["default"],e["b"],e["c"],!1,null,"deebf4d8",null,!1,e["a"],void 0);i["default"]=r.exports},7487:function(t,i,o){var e=o("24fb");i=e(!1),i.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.iconxihuan[data-v-deebf4d8]{transition:all .3s}.iconxihuan[data-v-deebf4d8]:active{-webkit-transform:scale(2);transform:scale(2)}.fabulous-item[data-v-deebf4d8]{position:absolute;z-index:99999;width:%?100?%;height:%?100?%;color:red;font-size:%?100?%;transition:opacity .5s,-webkit-transform .5s;transition:opacity .5s,transform .5s;transition:opacity .5s,transform .5s,-webkit-transform .5s;opacity:1}.commont-box[data-v-deebf4d8]{position:absolute;z-index:9;left:0;bottom:0;width:100%;height:60%;overflow-y:auto;background-color:#222;border-top-left-radius:%?20?%;border-top-right-radius:%?20?%;transition:all .3s;-webkit-transform:translateY(100%);transform:translateY(100%);display:flex;flex-direction:column}.commont-box .commont-title[data-v-deebf4d8]{text-align:center;color:#fff;font-size:%?24?%;margin:%?20?% 0;font-weight:700}.commont-box .commont-list[data-v-deebf4d8]{flex:1;overflow-y:auto}.commont-box .commont-list .comment-panel[data-v-deebf4d8]{margin:%?30?% %?40?%;display:flex}.commont-box .commont-list .comment-panel .first-user[data-v-deebf4d8]{width:%?50?%;height:%?50?%;border-radius:100%}.commont-box .commont-list .comment-panel .first-comment[data-v-deebf4d8]{flex:1;margin:%?0?% %?20?%}.commont-box .commont-list .comment-panel .first-comment .comment-name[data-v-deebf4d8]{font-size:%?24?%;font-weight:700;color:#999}.commont-box .commont-list .comment-panel .first-comment .comment-content[data-v-deebf4d8]{color:#fff;font-size:%?26?%;margin-top:%?10?%}.commont-box .commont-list .comment-panel .first-comment .time-box[data-v-deebf4d8]{margin-top:%?10?%;font-size:%?24?%;color:#999}.commont-box .commont-list .comment-panel .first-comment .time-box .reply-btn[data-v-deebf4d8]{margin-left:%?20?%}.commont-box .commont-list .comment-panel .fabulous-box[data-v-deebf4d8]{text-align:center}.commont-box .commont-list .comment-panel .fabulous-box .fabulous-btn[data-v-deebf4d8]{font-size:%?36?%;color:#666}.commont-box .commont-list .comment-panel .fabulous-box .fabulous-text[data-v-deebf4d8]{font-size:%?24?%;color:#999}.commont-box.active[data-v-deebf4d8]{-webkit-transform:translateY(0);transform:translateY(0)}.widget-video[data-v-deebf4d8]{width:100%;height:100%;overflow:hidden}.widget-video .btn-play[data-v-deebf4d8]{font-size:%?80?%;color:#fff;position:absolute;top:50%;left:50%;transition:all .3s;-webkit-transform:translateX(-50%) translateY(-50%) scale(1.5);transform:translateX(-50%) translateY(-50%) scale(1.5);z-index:8;opacity:0}.widget-video .btn-play.show[data-v-deebf4d8]{opacity:.5;-webkit-transform:translateX(-50%) translateY(-50%) scale(1);transform:translateX(-50%) translateY(-50%) scale(1)}.fullscreen-video[data-v-deebf4d8]{width:100%;height:100%;position:relative}.video-info[data-v-deebf4d8]{width:%?100?%;position:absolute;right:%?20?%;bottom:%?100?%}.video-info .atavar-box[data-v-deebf4d8]{background-color:#fff;padding:%?6?%;border-radius:100%;height:%?100?%;margin-bottom:%?64?%}.video-info .atavar-box .atavar-img[data-v-deebf4d8]{width:100%;display:block;border-radius:100%}.video-info .atavar-box .add-follow-btn[data-v-deebf4d8]{width:%?40?%;height:%?40?%;padding:%?4?%;border-radius:100%;color:#fff;background-color:red;position:absolute;bottom:%?-24?%;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);font-weight:700;text-align:center;line-height:%?32?%}.video-info .atavar-box .add-follow-btn .iconjia1[data-v-deebf4d8]{font-size:%?24?%}.video-info .icon-box[data-v-deebf4d8]{width:%?100?%;height:%?100?%;margin-top:%?40?%;display:flex;align-items:center;justify-content:space-around;flex-direction:column;color:#fff}.video-info .icon-box .icon-btn[data-v-deebf4d8]{font-size:%?60?%}.video-info .icon-box .count-text[data-v-deebf4d8]{font-size:%?24?%}.video-title[data-v-deebf4d8]{position:absolute;left:%?20?%;bottom:%?20?%;width:calc(100% - %?160?%);color:#fff}.video-title .user-name[data-v-deebf4d8]{font-weight:700}.video-title .video-content[data-v-deebf4d8]{font-size:%?24?%}',""]),t.exports=i},f614:function(t,i,o){"use strict";o.d(i,"b",(function(){return e})),o.d(i,"c",(function(){return n})),o.d(i,"a",(function(){}));var e=function(){var t=this,i=t.$createElement,o=t._self._c||i;return o("v-uni-view",{staticClass:"widget-video"},[o("v-uni-view",{staticClass:"scroll-video-box",style:{marginTop:t.marginTop+"px",transition:t.transition},on:{touchstart:function(i){arguments[0]=i=t.$handleEvent(i),t.touchStart.apply(void 0,arguments)},touchmove:function(i){arguments[0]=i=t.$handleEvent(i),t.touchMove.apply(void 0,arguments)},touchend:function(i){arguments[0]=i=t.$handleEvent(i),t.touchEnd.apply(void 0,arguments)}}},t._l(t.videoList,(function(i,e){return o("v-uni-view",{key:e,staticStyle:{width:"100vw",height:"100vh"}},[t._l(t.fabulousArr,(function(i,e){return o("i",{key:e,staticClass:"iconfont iconxihuan fabulous-item",style:{top:i.top,left:i.left,opacity:i.opacity,transform:i.transform},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.dbClickAnimation.apply(void 0,arguments)}}})})),o("i",{class:["iconfont iconbofang btn-play","pause"==t.currentStatus&&t.currentIndex==e?"show":""],on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.pauseVideo.apply(void 0,arguments)}}}),o("v-uni-video",{staticClass:"fullscreen-video",attrs:{id:i.id,src:i.video_url,poster:i.poster_url,controls:!0,"show-progress":!1,"show-fullscreen-btn":!1,"show-play-btn":!1,loop:!0,autoplay:0==e,"show-center-play-btn":!1},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.pauseVideo.apply(void 0,arguments)}}}),o("v-uni-view",{staticClass:"video-info"},[o("v-uni-view",{staticClass:"atavar-box"},[o("v-uni-image",{staticClass:"atavar-img",attrs:{src:"",mode:"widthFix"}}),o("v-uni-view",{staticClass:"add-follow-btn"},[o("i",{staticClass:"iconfont iconjia1 inline-block"})])],1),o("v-uni-view",{staticClass:"icon-box",on:{click:function(o){arguments[0]=o=t.$handleEvent(o),t.toggleFabulous(i,e)}}},[o("i",{class:["iconfont iconxihuan icon-btn",i.isFabulous?"color-red":""]}),o("v-uni-view",{staticClass:"count-text"},[t._v("3731")])],1),o("v-uni-view",{staticClass:"icon-box",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.commontAdd.apply(void 0,arguments)}}},[o("i",{staticClass:"iconfont iconIMliaotian-shixin icon-btn"}),o("v-uni-view",{staticClass:"count-text"},[t._v("25")])],1),o("v-uni-view",{staticClass:"icon-box"},[o("i",{staticClass:"iconfont iconfenxiang icon-btn"}),o("v-uni-view",{staticClass:"count-text"},[t._v("13")])],1)],1),o("v-uni-view",{staticClass:"video-title"},[o("v-uni-view",{staticClass:"user-name"},[t._v("@Yjyyyyyy")]),o("v-uni-view",{staticClass:"video-content"},[t._v("如不想根据屏幕宽度缩放，则应该使用 px 单位。如果开发者在字体或高度中也使用了 rpx ，那么需注意这样的写法意味着随着屏幕变宽，字体会变大、高度会变大。如果你需要固定高度，则应该使用 px 。")])],1)],2)})),1),o("v-uni-view",{class:["commont-box",t.commontShow?"active":""]},[o("v-uni-view",{staticClass:"commont-title"},[t._v("5578条评论")]),o("v-uni-view",{staticClass:"commont-list"},t._l(20,(function(i,e){return o("v-uni-view",{key:e},[o("v-uni-view",{staticClass:"comment-panel"},[o("v-uni-image",{staticClass:"first-user",attrs:{src:"",mode:"widthFix"}}),o("v-uni-view",{staticClass:"first-comment"},[o("v-uni-view",{staticClass:"comment-name"},[t._v("Yjyyyyyy")]),o("v-uni-view",{staticClass:"comment-content"},[t._v("这是一条测试评论这是一条测试评论这是一条测试评论这是一条测试评论这是一条测试评论这是一条测试评论")]),o("v-uni-view",{staticClass:"time-box"},[o("v-uni-text",{staticClass:"inline-block"},[t._v("昨天22:00")]),o("v-uni-view",{staticClass:"inline-block reply-btn"},[t._v("回复")])],1)],1),o("v-uni-view",{staticClass:"fabulous-box"},[o("i",{staticClass:"iconfont iconxihuan fabulous-btn"}),o("v-uni-view",{staticClass:"fabulous-text"},[t._v("3731")])],1)],1),o("v-uni-view",{staticStyle:{"padding-left":"70rpx"}},[o("v-uni-view",{staticClass:"comment-panel"},[o("v-uni-image",{staticClass:"first-user",attrs:{src:"",mode:"widthFix"}}),o("v-uni-view",{staticClass:"first-comment"},[o("v-uni-view",{staticClass:"comment-name"},[t._v("Yjyyyyyy")]),o("v-uni-view",{staticClass:"comment-content"},[t._v("这是一条测试评论这是一条测试评论这是一条测试评论这是")]),o("v-uni-view",{staticClass:"time-box"},[o("v-uni-text",{staticClass:"inline-block"},[t._v("昨天22:00")]),o("v-uni-view",{staticClass:"inline-block reply-btn"},[t._v("回复")])],1)],1),o("v-uni-view",{staticClass:"fabulous-box"},[o("i",{staticClass:"iconfont iconxihuan fabulous-btn"}),o("v-uni-view",{staticClass:"fabulous-text"},[t._v("3731")])],1)],1)],1)],1)})),1)],1)],1)},n=[]},f8f1:function(t,i,o){"use strict";o("7a82"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,o("d81d"),o("14d9");var e={data:function(){return{fabulousArr:[],clickTimer:null,clickTime:0,windowHeight:uni.getSystemInfoSync().windowHeight||window.innerHeight,transition:"none",startY:0,moveY:0,startTime:0,marginTop:0,fixMarginTop:0,moveDirection:"",currentIndex:0,currentVideo:null,currentStatus:"play",videoList:[{id:"1",isFabulous:1,video_url:"https://mp-a2235349-0135-4090-aee6-4562d3ed5ef7.cdn.bspapp.com/cloudstorage/d640cfd0-18eb-4b61-9c76-684c601103ad.mp4",poster_url:"https://img-my.csdn.net/uploads/201407/26/1406383299_1976.jpg"},{id:"2",isFabulous:0,video_url:"https://v-cdn.zjol.com.cn/276982.mp4",poster_url:"https://mp-a2235349-0135-4090-aee6-4562d3ed5ef7.cdn.bspapp.com/cloudstorage/a296b235-6f08-4a02-ab62-1eb44c03a771.mp4"},{id:"3",isFabulous:1,video_url:"https://mp-a2235349-0135-4090-aee6-4562d3ed5ef7.cdn.bspapp.com/cloudstorage/d640cfd0-18eb-4b61-9c76-684c601103ad.mp4",poster_url:"https://img-my.csdn.net/uploads/201407/26/1406383291_8239.jpg"},{id:"4",isFabulous:0,video_url:"https://v-cdn.zjol.com.cn/276985.mp4",poster_url:"https://mp-a2235349-0135-4090-aee6-4562d3ed5ef7.cdn.bspapp.com/cloudstorage/a296b235-6f08-4a02-ab62-1eb44c03a771.mp4"},{id:"5",isFabulous:1,video_url:"https://mp-a2235349-0135-4090-aee6-4562d3ed5ef7.cdn.bspapp.com/cloudstorage/d640cfd0-18eb-4b61-9c76-684c601103ad.mp4",poster_url:"https://img-my.csdn.net/uploads/201407/26/1406383290_1042.jpg"}],commontShow:!1,commentList:[]}},onReady:function(){this.currentVideo=uni.createVideoContext(this.videoList[0].id,this)},methods:{touchStart:function(t){this.transition="none",this.startY=t.touches[0].pageY,this.startTime=(new Date).getTime()},touchMove:function(t){if(!this.commontShow)if(this.moveY=t.touches[0].pageY,this.moveY>this.startY){var i=this.fixMarginTop+this.moveY-this.startY;0==this.currentIndex?this.marginTop=i>100?100:i:this.marginTop=i,this.moveDirection="up"}else{var o=this.fixMarginTop-this.startY+this.moveY;if(this.currentIndex==this.videoList.length-1){var e=-this.currentIndex*this.windowHeight-50;this.marginTop=o<e?e:o}else this.marginTop=o;this.moveDirection="down"}},touchEnd:function(t){this.transition="all .2s";var i=(new Date).getTime()-this.startTime,o=this.moveY>0&&Math.abs(this.moveY-this.startY)>50&&i<500,e=this.moveY>0&&Math.abs(this.moveY-this.startY)>this.windowHeight/3;o||e?"up"==this.moveDirection?0==this.currentIndex?this.marginTop=0:(this.marginTop=this.fixMarginTop+this.windowHeight,this.currentIndex=this.currentIndex-1,this.videoPlayChange()):this.currentIndex==this.videoList.length-1?this.marginTop=this.fixMarginTop:(this.marginTop=this.fixMarginTop-this.windowHeight,this.currentIndex=this.currentIndex+1,this.videoPlayChange()):this.marginTop=this.fixMarginTop,this.fixMarginTop=this.marginTop,this.startY=0,this.moveY=0},videoPlayChange:function(){this.stopOtherVideo();var t=uni.createVideoContext(this.videoList[this.currentIndex].id,this);t.play(),this.currentStatus="play",this.currentVideo=t},stopOtherVideo:function(){var t=this;this.videoList.map((function(i){var o=uni.createVideoContext(i.id,t);o.seek(1),o.pause()}))},pauseVideo:function(t){var i=this;if(this.commontShow)this.commontShow=!1;else{clearTimeout(this.clickTimer);var o=(new Date).getTime(),e=o-this.clickTime;e<300?this.dbClickAnimation(t):this.clickTimer=setTimeout((function(){t.preventDefault(),t.stopPropagation(),"play"==i.currentStatus?(i.currentVideo.pause(),i.currentStatus="pause"):(i.currentVideo.play(),i.currentStatus="play")}),300),this.clickTime=(new Date).getTime()}},dbClickAnimation:function(t){var i=this,o=Math.round(40*Math.random()+5);this.fabulousArr.push({left:t.detail.x-25+"px",top:t.detail.y-25+"px",transform:"rotate("+(o%2==0?o:-o)+"deg)"}),console.log(this.fabulousArr);var e=this.fabulousArr.length-1;setTimeout((function(){i.$set(i.fabulousArr,e,Object.assign(i.fabulousArr[e],{opacity:0,transform:"scale(3) "+i.fabulousArr[e].transform}))}),500),setTimeout((function(){i.fabulousArr.shift()}),1e3),this.videoList[this.currentIndex].isFabulous||this.$set(this.videoList,this.currentIndex,Object.assign(this.videoList[this.currentIndex],{isFabulous:1}))},toggleFabulous:function(t,i){this.$set(this.videoList,i,Object.assign(t,{isFabulous:t.isFabulous?0:1}))},commontAdd:function(){this.commontShow=!0}}};i.default=e}}]);